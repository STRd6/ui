no-select()
  user-select: none
  -moz-user-select: none
  -webkit-user-select: none
  -ms-user-select: none

desktop
  no-select()

  display: block
  flex: 1 0 auto

border-color = rgba(0, 0, 0, 0.87)

window
  no-select()

  background-color: lightgrey
  border: 4px double border-color
  display: flex
  flex-direction: column
  position: absolute

  > header
    border-bottom: 1px solid border-color
    cursor: default
    display: flex
    flex: 0 0 auto

    > icon
      background-color: #000080
      background-position: 50%
      background-repeat: no-repeat
      background-size: 16px
      display: inline-block
      flex: 0 0 auto
      width: 0

    > control
      color: white
      display: inline-block
      flex: 0 0 auto
      font-family: monospace
      width: 18px
      text-shadow: 1px 0px 0px #000, -1px 0px 0px #000, 0px -1px 0px #000, 0px 1px 0px #000, 1px 1px 0px #808080
      text-align: center

      border-left: 1px solid border-color
      &:first-child
        border-left: none

      &.close
        &::before
          content: "X"

      &.maximize
        &::before
          content: "⏫"

      &.minimize
        &::before
          content: "-"

      &.restore
        display: none
        &::before
          content: "⏬"

    > title-bar
      background-color: #000080
      color: white
      display: inline-block
      flex: 1 1 auto
      overflow: hidden
      padding: 0 1rem 0 6px
      text-overflow: ellipsis
      white-space: nowrap

  > viewport
    background-color: white
    display: flex
    height: 100%
    overflow: auto
    position: relative
    z-index: 0

    > *
      margin: auto

    > textarea
      border: none
      font-family: monospace
      height: 100%
      padding: 2px 4px
      resize: none
      width: 100%

    > iframe
      border: none
      height: 100%
      width: 100%
      position: absolute

  > resize
    display: block
    position: absolute

    &.e, &.w
      cursor: ew-resize

    &.n, &.s
      cursor: ns-resize

    &.h
      height: 4px
      width: 100%

    &.v
      height: 100%
      width: 4px

    &.w
      left: -4px
    &.e
      right: -4px
    &.n
      top: -4px
    &.s
      bottom: -4px

    &.n.w
      cursor: nw-resize

    &.n.e
      cursor: ne-resize

    &.s.e
      cursor: se-resize

    &.s.w
      cursor: sw-resize

    &.n.v
      height: 23px
      border-bottom: 1px solid black

    &.s.v
      height: 23px
      border-top: 1px solid black

    &.e.h
      border-left: 1px solid black
      width: 23px

    &.w.h
      border-right: 1px solid black
      width: 23px

  &.minimized
    > header
      border-bottom: none

      > control
        display: none

        &.minimize
          border-right: none
          display: inline-block
          &::before
            content: "+"

    > menu, > resize, > viewport
      display: none

  &.maximized
    height: 100%
    width: 100%

    > header
      > control
        display: none

        &.restore, &.close
          display: inline-block

frame-guard
  display: block
  height: 100%
  pointer-events: none
  position: absolute
  width: 100%
  z-index: 100000

  &.active
    pointer-events: auto
